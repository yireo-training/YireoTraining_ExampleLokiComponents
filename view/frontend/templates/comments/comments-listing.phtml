<?php
declare(strict_types=1);

use Loki\Components\Component\ComponentViewModelInterface;
use Loki\CssUtils\Util\CssClass;
use Magento\Framework\Escaper;
use Magento\Framework\View\Element\Template;
use YireoTraining\ExampleLokiComponents\Component\Comments\CommentsViewModel;
use Loki\Components\Util\ComponentUtil;

/** @version 0.0.14 */
/** @var ComponentViewModelInterface $viewModel */
/** @var CssClass $css */
/** @var Escaper $escaper */
/** @var Template $block */
/** @var CommentsViewModel $viewModel */
/** @var ComponentUtil $componentUtil */
?>
<div class="<?= $escaper->escapeHtmlAttr($css('my-4')) ?>">
    <h3 class="<?= $escaper->escapeHtmlAttr($css('text-xl', 'heading')) ?>">
        Existing Comments
    </h3>

    <ul>
        <?php foreach ($viewModel->getComments() as $comment) : ?>
            <li>
                <?= $escaper->escapeHtml($comment) ?>
                <button
                    class="<?= $escaper->escapeHtmlAttr($css('btn w-3', 'button')) ?>"
                    @click="remove"
                    data-comment="<?= $escaper->escapeHtml($comment) ?>"
                >x</button>
            </li>
        <?php endforeach; ?>
    </ul>
</div>
