<?php
declare(strict_types=1);

use Magento\Framework\Escaper;
use Loki\Components\Component\ComponentViewModelInterface;
use Loki\CssUtils\Util\CssClass;
use Magento\Framework\View\Element\Template;
use Loki\Components\Component\ComponentViewModel;
use Loki\Components\Factory\ViewModelFactory;
use Loki\Components\Util\Ajax;

/** @version 0.0.18 */
/** @var Escaper $escaper */
/** @var ComponentViewModelInterface $viewModel */
/** @var CssClass $css */
/** @var Template $block */
/** @var ViewModelFactory $viewModelFactory */
/** @var ComponentViewModel $viewModel */

$ajax = $viewModelFactory->create(Ajax::class);
$isAjax = $ajax->isAjax();
?>
<div class="<?= $escaper->escapeHtmlAttr($css('my-4')) ?>">
    <?php if ($viewModel->getValue()): ?>
        <button
            @click="toggle"
            class="<?= $escaper->escapeHtmlAttr($css('btn btn-primary', 'button')) ?>"
            <?php if ($isAjax): ?>x-autofocus<?php endif; ?>
        >
            Unlike
        </button>
    <?php else: ?>
        <button
            @click="toggle"
            class="<?= $escaper->escapeHtmlAttr($css('btn btn-primary', 'button')) ?>"
            <?php if ($isAjax): ?>x-autofocus<?php endif; ?>
        >
            Like
        </button>
    <?php endif; ?>
</div>
